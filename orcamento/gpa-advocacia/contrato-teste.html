<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contrato de Prestação de Serviços — Projeto GPA Advocacia</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#f7f9fc;
    --card:#ffffff;
    --ink:#17223b;
    --muted:#5f6b86;
    --line:#e2e8f0;
    --brand:#0ea5e9;
    --brand-2:#ff7a59;
    --ok:#16a34a;
    --radius:18px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    background:var(--bg);
    color:var(--ink);
    font-family:'Inter',system-ui,Segoe UI,Roboto,Arial,sans-serif;
  }
  .wrap{
    max-width:980px;
    margin:0 auto;
    padding:28px;
  }

  /* HEADER */
  header.hero{
    position:relative;
    border-radius:28px;
    overflow:hidden;
    background:linear-gradient(135deg,#ffffff,#f4fbff);
    border:1px solid var(--line);
    box-shadow:0 12px 40px rgba(17,24,39,.06);
  }
  .hero-art{
    position:absolute;
    inset:-1px;
    pointer-events:none;
    background:
      radial-gradient(60% 55% at 90% 10%, rgba(14,165,233,.15), transparent 65%),
      radial-gradient(60% 55% at 10% 0%, rgba(255,122,89,.12), transparent 60%);
    filter:saturate(1.05);
  }
  .partnerbar{
    position:relative;
    z-index:1;
    display:flex;
    gap:16px;
    align-items:center;
    justify-content:center;
    padding:14px;
    border-bottom:1px solid var(--line);
    background:linear-gradient(180deg,#ffffffaa,#ffffffee);
  }
  .partnerbar img{height:34px}
  .partnerbar .sep{
    width:1px;
    height:22px;
    background:var(--line);
  }
  .brand{
    position:relative;
    z-index:1;
    display:grid;
    grid-template-columns:120px 1fr;
    gap:18px;
    align-items:center;
    padding:20px;
  }
  @media (max-width:740px){
    .brand{
      grid-template-columns:1fr;
      text-align:center;
      justify-items:center;
    }
  }
  .brand img#logo-gpa{
    width:110px;
    height:auto;
    border-radius:14px;
    box-shadow:0 10px 24px rgba(14,165,233,.18);
  }
  .brand h1{
    margin:0;
    font:700 24px/1.25 'Poppins',sans-serif;
  }
  .brand p{
    margin:6px 0 0;
    color:var(--muted);
  }
  .badges{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    margin-top:10px;
  }
  .badge{
    font:600 11px/1 'Inter',sans-serif;
    padding:7px 10px;
    border-radius:999px;
    border:1px solid var(--line);
    background:#fff;
    display:inline-flex;
    align-items:center;
    gap:6px;
  }
  .badge span.icon{
    width:8px;
    height:8px;
    border-radius:999px;
    background:var(--brand);
  }

  /* SECTIONS */
  .section{
    margin-top:22px;
  }
  .card{
    background:var(--card);
    border:1px solid var(--line);
    border-radius:var(--radius);
    padding:18px 20px;
    box-shadow:0 8px 28px rgba(17,24,39,.05);
  }
  h2{
    font:700 18px/1.2 'Poppins',sans-serif;
    margin:0 0 10px;
  }
  h3{
    font:600 15px/1.2 'Poppins',sans-serif;
    margin:12px 0 6px;
  }
  p{
    margin:6px 0;
    font-size:14px;
    line-height:1.5;
  }
  .muted{color:var(--muted);}

  .grid-2{
    display:grid;
    gap:16px;
    grid-template-columns:1fr 1fr;
  }
  @media (max-width:820px){
    .grid-2{grid-template-columns:1fr;}
  }

  ul{
    margin:6px 0 6px 18px;
    padding:0;
    font-size:14px;
  }
  li{margin:4px 0;}

  .label{
    font-weight:600;
  }

  .highlight{
    background:#ecfeff;
    border-radius:10px;
    padding:10px 12px;
    font-size:13px;
  }

  /* PAYMENT BOX */
  .price-main{
    font:700 20px/1.2 'Poppins',sans-serif;
    margin-bottom:4px;
  }
  .price-detail{
    font-size:13px;
    color:var(--muted);
  }

  /* TIMELINE */
  .timeline{
    position:relative;
    padding-left:18px;
    margin-top:4px;
  }
  .timeline:before{
    content:"";
    position:absolute;
    left:6px;
    top:4px;
    bottom:4px;
    width:2px;
    background:var(--line);
  }
  .titem{
    position:relative;
    padding-left:10px;
    margin:8px 0;
    font-size:13px;
  }
  .titem:before{
    content:"";
    position:absolute;
    left:-1px;
    top:6px;
    width:8px;
    height:8px;
    border-radius:999px;
    background:var(--brand);
  }

  /* SIGNATURES */
  .sign-grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:18px;
  }
  @media (max-width:820px){
    .sign-grid{grid-template-columns:1fr;}
  }
  .sig-box{
    border:2px dashed var(--line);
    border-radius:14px;
    background:#f8fafc;
    padding:10px;
  }
  .sig-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    margin-bottom:6px;
  }
  .sig-header span{
    font-size:13px;
    font-weight:600;
  }
  .sig-actions{
    display:flex;
    gap:6px;
    flex-wrap:wrap;
  }
  .sig-actions label,
  .sig-actions button{
    border-radius:999px;
    border:1px solid var(--line);
    background:#fff;
    font-size:11px;
    padding:4px 8px;
    cursor:pointer;
  }
  .sig-actions input[type="file"]{
    display:none;
  }
  canvas.signature{
    width:100%;
    height:130px;
    border-radius:10px;
    background:#ffffff;
    box-shadow:inset 0 0 0 1px #e5e7eb;
  }
  .sig-name{
    margin-top:6px;
    font-size:12px;
    font-weight:600;
    text-align:center;
  }

  .controls{
    margin-top:10px;
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    justify-content:flex-end;
  }
  .btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:6px;
    padding:10px 14px;
    border-radius:999px;
    border:none;
    cursor:pointer;
    font-size:13px;
    font-weight:600;
    text-decoration:none;
  }
  .btn-primary{
    background:linear-gradient(135deg,#0ea5e9,#0369a1);
    color:#fff;
    box-shadow:0 8px 20px rgba(14,165,233,.35);
  }
  .btn-ghost{
    background:#fff;
    color:#0f172a;
    border:1px solid var(--line);
  }

  /* ANEXO */
  .anexo-img{
    width:100%;
    max-height:550px;
    object-fit:contain;
    border-radius:14px;
    border:1px solid var(--line);
    background:#fff;
  }

  footer{
    margin:26px 0 6px;
    text-align:center;
    color:#94a3b8;
    font-size:11px;
  }

  /* PRINT */
  @media print{
    body{background:#ffffff;}
    .wrap{padding:0 20px;}
    header.hero{box-shadow:none;}
    .card{box-shadow:none;}
    .controls,
    .sig-actions,
    .partnerbar{display:none !important;}
  }
  /* ANEXO — MINIATURA + EXPANSÃO */
.anexo-thumb{
  width:100%;
  max-width:420px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#fff;
  cursor:pointer;
  transition:transform .18s ease, box-shadow .18s ease;
  box-shadow:0 6px 18px rgba(15,23,42,.08);
}
.anexo-thumb:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 26px rgba(15,23,42,.12);
}
.anexo-helper{
  font-size:12px;
  color:var(--muted);
  margin-top:6px;
}

.anexo-viewer{
  margin-top:14px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#fff;
  overflow:hidden;
  max-height:0;
  opacity:0;
  transition:max-height .35s ease, opacity .3s ease;
}
.anexo-viewer.open{
  max-height:85vh;
  opacity:1;
}

.anexo-scroll{
  max-height:80vh;
  overflow:auto;
  background:#0f172a;
  padding:10px;
}
.anexo-full{
  display:block;
  width:auto;
  height:auto;
  max-width:none;
}

.anexo-close{
  text-align:right;
  padding:8px;
}
.anexo-close button{
  padding:6px 12px;
  border-radius:8px;
  border:1px solid var(--line);
  background:#fff;
  font-size:12px;
  cursor:pointer;
}
/* ZOOM + DRAG */
#zoomContainer{
  width:100%;
  height:100%;
  overflow:visible;
  position:relative;
  cursor:grab;
}

#zoomContainer:active{
  cursor:grabbing;
}

#zoomImg{
  position:absolute;
  top:0;
  left:0;
  transform-origin:top left;
  user-select:none;
  -webkit-user-drag:none;
}

.zoom-controls{
  position:absolute;
  bottom:12px;
  right:12px;
  display:flex;
  gap:8px;
  z-index:10;
}

.zoom-controls button{
  width:36px;
  height:36px;
  border-radius:8px;
  border:1px solid var(--line);
  background:#fff;
  cursor:pointer;
  font-size:20px;
  font-weight:700;
  box-shadow:0 4px 10px rgba(0,0,0,.15);
}

.anexo-scroll{
  position:relative;
  max-height:80vh;
  overflow:hidden;
  background:#0f172a;
}

</style>
</head>
<body>
<div class="wrap">

  <!-- HEADER -->
  <header class="hero">
    <div class="hero-art"></div>
    <div class="partnerbar">
      <img src="https://e-web.online/assets/img/app-landing/logo/logo1.png" alt="e-Web Agency">
      <div class="sep"></div>
      <span style="font-weight:600;color:#334155">contrato de projeto da e-Web Agency em parceria com Empresarial Web</span>
      <div class="sep"></div>
      <img src="https://empresarialweb.com.br/images/logo-empresarialweb.png" alt="Empresarial Web">
    </div>
    <div class="brand">
      <img id="logo-gpa" alt="Logo GPA Advocacia" src="logo-gpa-escura.png">
      <div>
        <h1>Contrato de Prestação de Serviços Digitais</h1>
        <p>Desenvolvimento de Site Institucional + Arquitetura SEO — Projeto GPA Advocacia.</p>
        <div class="badges">
          <span class="badge"><span class="icon"></span>Contrato Comercial</span>
          <span class="badge"><span class="icon" style="background:var(--brand-2);"></span>Site + SEO Regional</span>
          <span class="badge"><span class="icon" style="background:var(--ok);"></span>Pagamento Parcela&nbsp;do</span>
        </div>
      </div>
    </div>
  </header>

  <!-- DADOS DAS PARTES -->
  <section class="section card">
    <h2>Partes</h2>

    <h3>CONTRATANTE</h3>
    <p><span class="label">Nome empresarial:</span> Gustavo de Oliveira Pedroso Sociedade Individual de Advocacia</p>
    <p><span class="label">CNPJ:</span> 52.964.752/0001-76 &nbsp;|&nbsp; Nome fantasia: “Gustavo ADV”</p>
    <p><span class="label">Endereço:</span> Rua Maria de Lurdes dos Santos, 405 – Casa 01 – Atuba – Colombo/PR</p>
    <p><span class="label">E-mail:</span> pedrosogustavo2@outlook.com &nbsp;|&nbsp; <span class="label">Telefone:</span> (41) 9742-3394</p>

    <h3>CONTRATADO</h3>
    <p><span class="label">Nome:</span> Felipe Nunes Chagas</p>
    <p><span class="label">CPF:</span> 070.292.459-89</p>
    <p><span class="label">Agência:</span> e-Web Agency + Empresarial Web</p>
    <p><span class="label">E-mail:</span> felipe@empresarialweb.com.br &nbsp;|&nbsp; <span class="label">Telefone/WhatsApp:</span> (41) 99975-0085</p>
  </section>

  <!-- CLÁUSULA 1 -->
  <section class="section card">
    <h2>Cláusula 1 — Objeto do Contrato</h2>
    <p>O presente contrato tem por objeto o <strong>desenvolvimento completo do site institucional da GPA Advocacia</strong>, obedecendo estritamente à arquitetura de informação e hierarquia de páginas descritas no <strong>Anexo I (Mapa do Site)</strong>, parte integrante deste contrato.</p>

    <h3>1.1 — Entregáveis Técnicos e de Conteúdo</h3>

    <p class="label">Estrutura e Design:</p>
    <ul>
      <li>Desenvolvimento de site moderno, responsivo e rápido.</li>
      <li>Layout exclusivo para a página inicial (Home).</li>
      <li>Template padrão para as páginas internas listadas no Anexo I.</li>
    </ul>

    <p class="label">Conteúdo (Redação):</p>
    <ul>
      <li>Redação, curadoria e inserção de conteúdo textual e visual das páginas do Anexo I.</li>
      <li>Aplicação de técnicas de SEO e Copywriting voltadas ao público-alvo.</li>
    </ul>

    <p class="label">SEO Técnico:</p>
    <ul>
      <li>Configuração de metatags, titles, descriptions.</li>
      <li>Criação de sitemaps e arquivos técnicos necessários.</li>
      <li>Implementação de dados estruturados (Schema.org), quando cabível.</li>
    </ul>

    <p class="label">Arquitetura Regional:</p>
    <ul>
      <li>Configuração técnica focada na atuação local (Curitiba/RMC).</li>
      <li>Estrutura já preparada para suportar futura expansão gradual (PR/SC/SP).</li>
    </ul>
  </section>

  <!-- CLÁUSULA 2 -->
  <section class="section card">
    <h2>Cláusula 2 — Investimento e Forma de Pagamento</h2>
    <p>O valor total ajustado para o projeto é de <strong>R$ 2.400,00 (dois mil e quatrocentos reais)</strong>, a ser pago da seguinte forma:</p>

    <div class="grid-2">
      <div>
        <h3>2.1 — Entrada (Início do Projeto)</h3>
        <p class="highlight">
          <strong>R$ 700,00 (setecentos reais)</strong>, pagos na assinatura deste contrato via PIX, cobrindo custos iniciais de setup (plugins, certificações, APIs, bases de layout, fontes licenciadas e ferramentas premium).
        </p>

        <h3>2.2 — Parcelamento do Saldo</h3>
        <p>O saldo restante de <strong>R$ 1.700,00</strong> será parcelado em <strong>10 (dez) parcelas de R$ 170,00</strong>, a serem pagas mensalmente via PIX.</p>
        <p><span class="label">Vencimento:</span> a 1ª parcela vence 30 dias após a data da assinatura e pagamento da entrada.</p>
        <p><span class="label">Chave PIX:</span> 07029245989 (CPF) ou outro dado a ser confirmado entre as partes.</p>
      </div>

      <div>
        <h3>2.3 — Condições Gerais de Pagamento</h3>
        <ul>
          <li>O parcelamento é fruto do acordo comercial entre as partes e <strong>não está vinculado ao andamento do projeto</strong>, salvo se houver novo ajuste formal.</li>
          <li>Após iniciado o desenvolvimento, não haverá suspensão das parcelas, salvo acordo por escrito entre CONTRATANTE e CONTRATADO.</li>
          <li>O CONTRATANTE poderá, a seu critério, antecipar parcelas futuras para quitação mais rápida do contrato.</li>
        </ul>

        <div class="price-main">Resumo Financeiro</div>
        <div class="price-detail">
          Total: R$ 2.400,00 · Entrada: R$ 700,00 · 10x R$ 170,00 (PIX).
        </div>
      </div>
    </div>
  </section>

  <!-- CLÁUSULA 3 -->
  <section class="section card">
    <h2>Cláusula 3 — Prazos e Entregas</h2>
    <p>Após a confirmação do pagamento da entrada, o projeto seguirá o fluxo abaixo:</p>

    <div class="timeline">
      <div class="titem"><strong>Layout (Home):</strong> apresentação da proposta visual até a sexta-feira subsequente ao fechamento.</div>
      <div class="titem"><strong>Desenvolvimento:</strong> após aprovação do layout, o CONTRATADO executará a criação das páginas e inserção dos conteúdos conforme Anexo I.</div>
      <div class="titem"><strong>Entrega Final:</strong> site publicado e pronto para revisão final em prazo estimado de 1 a 2 semanas, podendo variar em função de ajustes complexos solicitados pelo CONTRATANTE.</div>
    </div>
  </section>

  <!-- CLÁUSULA 4 -->
  <section class="section card">
    <h2>Cláusula 4 — Responsabilidades e Validação Jurídica</h2>

    <h3>4.1 — Do CONTRATADO</h3>
    <ul>
      <li>Entregar o site funcional, com todos os textos redigidos e otimizados dentro do escopo.</li>
      <li>Garantir boa estabilidade técnica, segurança básica e velocidade adequada.</li>
      <li>Aplicar boas práticas de SEO técnico e estruturação de conteúdo.</li>
    </ul>

    <h3>4.2 — Do CONTRATANTE</h3>
    <ul>
      <li>Fornecer logos, informações institucionais e eventuais documentos necessários.</li>
      <li>Aprovar ou solicitar ajustes dentro de prazos razoáveis, para que o cronograma seja mantido.</li>
      <li>Custear e manter o registro de domínio e a hospedagem do site.</li>
    </ul>

    <h3>4.3 — Validação Jurídica do Conteúdo</h3>
    <p class="muted">
      Considerando que os textos serão redigidos pelo CONTRATADO, profissional da área de tecnologia e marketing, e não jurídico,
      o CONTRATANTE declara estar ciente de que é de sua <strong>inteira responsabilidade</strong> revisar e validar a precisão legal,
      termos técnicos e orientações jurídicas presentes no site, antes ou logo após a publicação.
    </p>
    <p class="muted">
      O CONTRATADO fica isento de responsabilidade por eventuais imprecisões jurídicas, cabendo ao CONTRATANTE a aprovação final do teor informativo.
    </p>
  </section>

  <!-- CLÁUSULA 5 E 6 -->
  <section class="section grid-2">
    <div class="card">
      <h2>Cláusula 5 — Garantia e Suporte</h2>
      <ul>
        <li>O CONTRATADO oferece <strong>30 dias de suporte técnico</strong> após a entrega final.</li>
        <li>Inclui correções de erros, pequenos ajustes de layout e ajustes pontuais nos textos durante a fase de revisão.</li>
        <li>Não inclui criação de novas seções, funcionalidades adicionais ou reestruturações completas (que poderão ser orçadas à parte).</li>
      </ul>
    </div>

    <div class="card">
      <h2>Cláusula 6 — Plano Mensal (Opcional)</h2>
      <p>O CONTRATANTE poderá aderir posteriormente ao plano de recorrência:</p>
      <p class="highlight"><strong>SEO Contínuo e Expansão — R$ 550,00/mês</strong> (sem fidelidade).</p>
      <ul>
        <li>Monitoramento e melhorias de posicionamento.</li>
        <li>Produção de conteúdos estratégicos.</li>
        <li>Implementação gradual da expansão regional (novas páginas para cidades de PR/SC/SP).</li>
      </ul>
    </div>
  </section>

  <!-- CLÁUSULA 7 -->
  <section class="section card">
    <h2>Cláusula 7 — Foro</h2>
    <p>As partes elegem o foro da <strong>Comarca de Curitiba/PR</strong> para dirimir quaisquer dúvidas originadas deste contrato.</p>
    <p style="margin-top:12px;">Curitiba, _____ de ____________________ de 2025.</p>
  </section>

  <!-- ASSINATURAS -->
  <section class="section card">
    <h2>Assinaturas</h2>
    <div class="sign-grid">
      <div>
        <div class="sig-box">
          <div class="sig-header">
            <span>Assinatura do CONTRATANTE</span>
            <div class="sig-actions">
              <label>
                Upload
                <input type="file" accept="image/*" onchange="loadSignature(event,'sigContratante')">
              </label>
              <button type="button" onclick="clearSignature('sigContratante')">Limpar</button>
            </div>
          </div>
          <canvas id="sigContratante" class="signature"></canvas>
        </div>
        <p class="sig-name">GUSTAVO DE OLIVEIRA PEDROSO — CONTRATANTE</p>
      </div>

      <div>
        <div class="sig-box">
          <div class="sig-header">
            <span>Assinatura do CONTRATADO</span>
            <div class="sig-actions">
              <label>
                Upload
                <input type="file" accept="image/*" onchange="loadSignature(event,'sigContratado')">
              </label>
              <button type="button" onclick="clearSignature('sigContratado')">Limpar</button>
            </div>
          </div>
          <canvas id="sigContratado" class="signature"></canvas>
        </div>
        <p class="sig-name">FELIPE NUNES CHAGAS — CONTRATADO</p>
      </div>
    </div>

    <div class="controls">
      <button type="button" class="btn btn-ghost" onclick="clearAllSignatures()">Limpar assinaturas</button>
      <button type="button" class="btn btn-primary" onclick="window.print()">Imprimir / Salvar em PDF</button>
    </div>
  </section>

  <!-- ANEXO I -->
<!-- ANEXO I -->
<section class="section card">
  <h2>Anexo I — Mapa do Site</h2>
  <p class="muted">Clique na miniatura para visualizar o mapa completo.</p>

  <!-- MINIATURA -->
  <img
    src="mapa-mental.png"
    alt="Mapa do site GPA Advocacia"
    class="anexo-thumb"
    onclick="toggleAnexoViewer()"
  >

  <div class="anexo-helper">Clique para expandir o mapa.</div>

  <!-- VIEWER EXPANDIDO -->
  <div id="anexoViewer" class="anexo-viewer">

    <div class="anexo-close">
      <button onclick="toggleAnexoViewer()">Fechar mapa</button>
    </div>

<div class="anexo-scroll">
  <div id="zoomContainer">
    <img id="zoomImg" src="mapa-mental.png" alt="Mapa completo">
  </div>

  <div class="zoom-controls">
    <button onclick="zoomIn()">+</button>
    <button onclick="zoomOut()">–</button>
    <button onclick="resetZoom()">Reset</button>
  </div>
</div>

  </div>
</section>


  <footer>© 2025 — e-Web Agency + Empresarial Web · Documento online de contrato comercial</footer>
</div>

<script>
  // --- assinatura com desenho ---
  const signatures = {};

  function initSignatureCanvas(id){
    const canvas = document.getElementById(id);
    const ctx = canvas.getContext('2d');
    let drawing = false;
    let rect = canvas.getBoundingClientRect();

    function resize(){
      // salvar conteúdo se quiser, mas aqui simplificamos
      const ratio = window.devicePixelRatio || 1;
      canvas.width = canvas.clientWidth * ratio;
      canvas.height = canvas.clientHeight * ratio;
      ctx.scale(ratio, ratio);
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.strokeStyle = '#111827';
    }

    resize();
    window.addEventListener('resize', () => {
      rect = canvas.getBoundingClientRect();
      resize();
    });

    function getPos(e){
      if(e.touches && e.touches.length){
        return {
          x: e.touches[0].clientX - rect.left,
          y: e.touches[0].clientY - rect.top
        };
      }
      return {
        x: e.clientX - rect.left,
        y: e.clientY - rect.top
      };
    }

    function start(e){
      drawing = true;
      const pos = getPos(e);
      ctx.beginPath();
      ctx.moveTo(pos.x,pos.y);
      e.preventDefault();
    }

    function move(e){
      if(!drawing) return;
      const pos = getPos(e);
      ctx.lineTo(pos.x,pos.y);
      ctx.stroke();
      e.preventDefault();
    }

    function end(){
      drawing = false;
    }

    canvas.addEventListener('mousedown', start);
    canvas.addEventListener('mousemove', move);
    window.addEventListener('mouseup', end);

    canvas.addEventListener('touchstart', start, {passive:false});
    canvas.addEventListener('touchmove', move, {passive:false});
    window.addEventListener('touchend', end);

    signatures[id] = {canvas, ctx};
  }

  function clearSignature(id){
    const sig = signatures[id];
    if(!sig) return;
    sig.ctx.clearRect(0,0,sig.canvas.width,sig.canvas.height);
  }

  function clearAllSignatures(){
    Object.keys(signatures).forEach(clearSignature);
  }

  function loadSignature(event, id){
    const file = event.target.files[0];
    if(!file) return;
    const reader = new FileReader();
    reader.onload = function(e){
      const img = new Image();
      img.onload = function(){
        const sig = signatures[id];
        if(!sig) return;
        const {canvas, ctx} = sig;
        ctx.clearRect(0,0,canvas.width,canvas.height);
        // desenha centralizado
        const scale = Math.min(canvas.clientWidth / img.width, canvas.clientHeight / img.height);
        const w = img.width * scale;
        const h = img.height * scale;
        const x = (canvas.clientWidth - w) / 2;
        const y = (canvas.clientHeight - h) / 2;
        ctx.drawImage(img, x, y, w, h);
      };
      img.src = e.target.result;
    };
    reader.readAsDataURL(file);
  }

  document.addEventListener('DOMContentLoaded', function(){
    initSignatureCanvas('sigContratante');
    initSignatureCanvas('sigContratado');
  });
 function toggleAnexoViewer(){
  const viewer = document.getElementById('anexoViewer');
  viewer.classList.toggle('open');
}
/* ===== ZOOM & DRAG DO ANEXO ===== */

let scale = 1;
let posX = 0;
let posY = 0;

let isDragging = false;
let startX, startY;

const img = document.getElementById("zoomImg");
const container = document.getElementById("zoomContainer");

function updateTransform(){
  img.style.transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
}

function zoomIn(){
  scale += 0.2;
  updateTransform();
}

function zoomOut(){
  scale = Math.max(0.2, scale - 0.2);
  updateTransform();
}

function resetZoom(){
  scale = 1;
  posX = 0;
  posY = 0;
  updateTransform();
}

// Scroll para zoom
container.addEventListener("wheel", function(e){
  e.preventDefault();
  const delta = e.deltaY > 0 ? -0.1 : 0.1;
  scale = Math.max(0.2, scale + delta);
  updateTransform();
});

// Drag
container.addEventListener("mousedown", function(e){
  isDragging = true;
  startX = e.clientX - posX;
  startY = e.clientY - posY;
});

document.addEventListener("mousemove", function(e){
  if(!isDragging) return;
  posX = e.clientX - startX;
  posY = e.clientY - startY;
  updateTransform();
});

document.addEventListener("mouseup", function(){
  isDragging = false;
});

// Touch drag
container.addEventListener("touchstart", function(e){
  isDragging = true;
  startX = e.touches[0].clientX - posX;
  startY = e.touches[0].clientY - posY;
});

container.addEventListener("touchmove", function(e){
  if(!isDragging) return;
  posX = e.touches[0].clientX - startX;
  posY = e.touches[0].clientY - startY;
  updateTransform();
  e.preventDefault();
});

container.addEventListener("touchend", ()=>{
  isDragging = false;
});

</script>

</body>
</html>
